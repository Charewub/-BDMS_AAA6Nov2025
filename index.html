<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale:1.0">
    <title>เกมเรียงหน้า เรียงวัย (เวอร์ชัน Dropdown)</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Kanit', Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            flex-direction: column; /* [ปรับปรุง] เพื่อวางปุ่ม Reset ด้านล่าง */
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px 0; 
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
            overflow-x: hidden;
        }

        .game-container {
            width: 95%;
            max-width: 1000px;
            margin: 0 auto; 
            text-align: center;
            background: #fff;
            padding: 15px; 
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #333;
            margin-top: 0; 
            margin-bottom: 20px;
            font-family: 'Kanit', sans-serif; 
            font-weight: 700;
            font-size: 1.8rem; 
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr); 
            gap: 10px; 
            margin-bottom: 25px; 
        }

        @media (min-width: 768px) {
            .game-container {
                padding: 25px; 
            }
            h1 {
                font-size: 2.5rem; 
            }
            .image-grid {
                grid-template-columns: repeat(6, 1fr); 
                gap: 15px; 
                margin-bottom: 30px;
            }
        }

        .grid-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .grid-item img {
            width: 100%;
            height: auto; 
            aspect-ratio: 1 / 1; 
            min-height: 80px;
            background-color: #e0e0e0;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            object-fit: cover; 
        }

        /* [ CSS ใหม่สำหรับ Dropdown ] */
        .number-selector {
            width: 44px;
            height: 44px;
            background-color: #f7d000;
            border-radius: 50%;
            border: 2px solid #e0be00;
            margin-top: 10px;
            
            /* Sytling ตัวอักษร */
            font-family: 'Kanit', sans-serif;
            font-weight: 700;
            font-size: 1.2em;
            color: #757575; /* สีเทาสำหรับ placeholder '?' */
            text-align: center;
            
            /* ลบหน้าตาเริ่มต้นของ <select> */
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            
            cursor: pointer;
            padding: 0;
            padding-left: 2px; /* จัด '?' ให้อยู่กลางนิดนึง */
        }

        /* เมื่อเลือกตัวเลขแล้ว ให้เปลี่ยนเป็นสีดำ */
        .number-selector.selected {
            color: #000;
            padding-left: 0; /* จัดตัวเลขให้อยู่กลาง */
        }

        .number-selector:focus {
            outline: none;
            box-shadow: 0 0 8px rgba(247, 208, 0, 0.7);
        }

        /* [ CSS ใหม่สำหรับปุ่ม Reset ] */
        #reset-button {
            margin-top: 20px;
            padding: 10px 20px; 
            font-size: 1.1rem; 
            font-weight: 700; 
            font-family: 'Kanit', sans-serif; 
            background-color: #f44336; /* สีแดง */
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        #reset-button:hover {
            background-color: #d32f2f;
        }
        
        /* [ ลบ .number-bank และ .draggable-number CSS ออก ] */

    </style>
</head>
<body>

    <div class="game-container">
        <h1>GAME เรียงหน้า เรียงวัย</h1>

        <div class="image-grid">
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo12d120c26263ce8c3.jpg" alt="บุคคลที่ 1">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo2bfba1e0c854d3f3b.jpg" alt="บุคคลที่ 2">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo3460476902eba9cc4.jpg" alt="บุคคลที่ 3">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo4e76c6f2d4a05655f.jpg" alt="บุคคลที่ 4">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo5239ba1114e96b31d.jpg" alt="บุคคลที่ 5">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo6fb6a315fde9d619c.jpg" alt="บุคคลที่ 6">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo7d6b25368636baa2d.jpg" alt="บุคคลที่ 7">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo8559ea9059a1d65f6.jpg" alt="บุคคลที่ 8">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo95602af9b71189d85.jpg" alt="บุคคลที่ 9">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo10a127ca179f7fd6d3.jpg" alt="บุคคลที่ 10">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo11ca6cff3dd6ba8eb1.jpg" alt="บุคคลที่ 11">
                <select class="number-selector"></select>
            </div>
            <div class="grid-item">
                <img src="https://s.imgz.io/2025/11/06/Photo12a0c7d247c4220f3f.jpg" alt="บุคคลที่ 12">
                <select class="number-selector"></select>
            </div>
        </div>

        </div>
    
    <button id="reset-button">Reset</button>
    

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const allSelectors = document.querySelectorAll('.number-selector');
            const resetButton = document.getElementById('reset-button');

            function populateSelectors() {
                allSelectors.forEach(selector => {
                    // ล้างค่าเก่า (ถ้ามี)
                    selector.innerHTML = '';
                    
                    // 1. เพิ่มตัวเลือก Placeholder '?'
                    const placeholderOption = new Option('?', ''); // ข้อความ '?', ค่า value ''
                    selector.add(placeholderOption);

                    // 2. เพิ่มตัวเลข 1-12
                    for (let i = 1; i <= 12; i++) {
                        const option = new Option(i, i); // ข้อความ i, ค่า value i
                        selector.add(option);
                    }
                    
                    // 3. ตั้งค่าเริ่มต้น
                    selector.value = '';
                    selector.classList.remove('selected');
                });
            }

            function updateOptionStates() {
                // 1. หาทุกตัวเลขที่ถูกเลือกไปแล้ว
                const selectedValues = new Set();
                allSelectors.forEach(selector => {
                    if (selector.value !== '') {
                        selectedValues.add(selector.value);
                    }
                });

                // 2. อัปเดต Dropdown ทุกอัน
                allSelectors.forEach(selector => {
                    const currentValue = selector.value;
                    
                    // วนลูปใน <option> ของ <select> นี้
                    Array.from(selector.options).forEach(option => {
                        if (option.value === '') return; // ข้าม placeholder '?'

                        // ถ้าเลขนี้ถูกเลือกแล้ว *และ* ไม่ใช่ค่าของช่องนี้เอง
                        if (selectedValues.has(option.value) && option.value !== currentValue) {
                            option.disabled = true;
                            option.style.color = '#ccc'; // ทำให้เป็นสีเทา
                        } else {
                            option.disabled = false;
                            option.style.color = '#000'; // สีปกติ
                        }
                    });
                });
            }

            function handleSelectChange(event) {
                // เพิ่ม/ลบ class 'selected' เพื่อเปลี่ยนสีตัวอักษร
                if (event.target.value !== '') {
                    event.target.classList.add('selected');
                } else {
                    event.target.classList.remove('selected');
                }
                
                // อัปเดตสถานะของ Dropdown ทั้งหมด
                updateOptionStates();
            }

            function resetGame() {
                // ตั้งค่า Dropdown ทั้งหมดกลับไปเป็นค่าเริ่มต้น
                populateSelectors();
                // อัปเดตสถานะ (ซึ่งตอนนี้จะว่างเปล่าทั้งหมด)
                updateOptionStates();
            }

            // --- เริ่มต้นเกม ---
            
            // 1. สร้างตัวเลือก 1-12 ในทุกช่อง
            populateSelectors();
            
            // 2. เพิ่ม Event Listener ให้ทุกช่อง
            allSelectors.forEach(selector => {
                selector.addEventListener('change', handleSelectChange);
            });

            // 3. เพิ่ม Event Listener ให้ปุ่ม Reset
            resetButton.addEventListener('click', resetGame);
        });
    </script>
</body>
</html>
